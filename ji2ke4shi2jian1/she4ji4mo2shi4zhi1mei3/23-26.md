### 24如何实现一个遵从设计原则的系统

使用MVC三层架构开发的原因：

- 分层能起到代码复用的作用。
- 分层能起到隔离变化的作用。
- 分层能起到隔离关注点的作用。
- 分层能提高代码的可测试性。
- 分层能应对系统的复杂性。

为了分层清晰、减少耦合，多维护几个类的成本也并不是不能接受的。

### 25如何分析和设计非业务的通用框架

对于通用框架的开发，还需要考虑很多非功能性的需求：

- 易用性：框架是否易集成、易插拔、跟业务代码是否松耦合、提供的接口是否够灵活等等，都是我们应该花心思去思考和设计的。有的时候，文档写得好坏甚至都有可能决定一个框架是否受欢迎。
- 性能：对于需要集成到业务系统的框架来说，我们不希望框架本身的代码执行效率，对业务系统有太多性能上的影响。
- 扩展性：从框架使用者的角度来说的，特指使用者可以在不修改框架源码，甚至不拿到框架源码的情况下，为框架扩展新的功能。有点类似给框架开发插件。
- 容错性：要对框架可能存在的各种异常情况都考虑全面，对外暴露的接口抛出的所有运行时、非运行时异常都进行捕获处理。
- 通用性：为了提高框架的复用性，能够灵活应用到各种场景中。框架在设计的时候，要尽可能通用。

对于稍微复杂系统的开发可以借鉴TDD（测试驱动开发）和Prototype（最小原型）的思想，先聚焦于一个简单的应用场景，基于此设计实现一个简单的原型。尽管这个最小原型系统在功能和非功能特性上都不完善，但它能够看得见、摸得着，比较具体、不抽象，能够很有效地帮助我缕清更复杂的设计思路，是迭代设计的基础。

写代码的过程本就是一个修修改改、不停调整的过程，肯定不是一气呵成的。你看到的那些大牛开源项目的设计和实现，也都是在不停优化、修改过程中产生的。迭代思维很重要，不要刚开始就追求完美。

面向对象设计和实现要做的事情，就是把合适的代码放到合适的类中。至于到底选择哪种划分方法，判定的标准是让代码尽量地满足低耦合、高内聚、单一职责、对扩展开放对修改关闭等之前讲的各种设计原则和思想，尽量地做到代码可复用、易读、易扩展、易维护。

