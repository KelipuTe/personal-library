### 11基于贫血模型的MVC架构违背OOP

很多业务系统都是基于贫血模型的MVC三层架构模式开发的。虽然这种开发模式已经成为标准的Web项目的开发模式，但它却违反了面向对象编程风格，是一种面向过程的编程风格，因此而被有些人称为反模式。

领域驱动设计盛行之后，基于充血模型的DDD开发模式越来越被人提倡。领域驱动设计，即DDD，主要是用来指导如何解耦业务系统，划分业务模块，定义业务领域模型及其交互。

贫血模型将数据与操作分离，破坏了面向对象的封装特性，是一种典型的面向过程的编程风格，比较适合业务比较简单的系统开发。充血模型正好相反，数据和对应的业务逻辑被封装到同一个类中。因此，这种充血模型满足面向对象的封装特性，是典型的面向对象编程风格，更适合业务复杂的系统开发。

广大程序员接受基于贫血模型的传统开发模式的原因有3点：第一点，大部分情况下，系统业务可能都比较简单，简单到就是基于SQL的CRUD操作。第二点，充血模型的设计要比贫血模型更加有难度。第三点，思维已固化，转型有成本。

不夸张地讲，平时的开发，大部分都是SQL驱动的开发模式。业务逻辑包裹在一个大的SQL语句中，而Service层可以做的事情很少。SQL都是针对特定的业务功能编写的，复用性差。对于简单业务系统来说，这种开发方式问题不大。但对于复杂业务系统的开发来说，这样的开发方式会让代码越来越混乱，最终导致无法维护。

### 13如何对功能开发做面向对象分析

采取迭代优化的方式，因为不太可能一次性就能考虑到所有的点。

需要权衡细节和开发成本，考虑的越细，内容也就越多，程序就会越复杂，开发时间也会变长。

类与类之间的交互关系：

- 泛化可以简单理解为继承关系。
- 实现一般是指接口和实现类之间的关系。
- 聚合是一种包含关系，A 类对象包含 B 类对象，B 类对象的生命周期可以不依赖 A 类对象的生命周期。
- 组合也是一种包含关系。A 类对象包含 B 类对象，B 类对象的生命周期依赖 A 类对象的生命周期，B 类对象不可单独存在。
- 关联是一种非常弱的关系，包含聚合、组合两种关系。
- 依赖是一种比关联关系更加弱的关系，包含关联关系。